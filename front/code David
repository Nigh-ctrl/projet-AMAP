const NavBar = () => {

 const [saisonsId, setSaisonsId] = useState(1);
  
  const getSaisons = () => (
    //requete axios
    axios({
      method: 'get',
      url: `http://localhost:4000/recettes/saison/${saisonsId}`
    })
    .then((res) => {
      console.log(res.data);
      setsetSaisonsId(res.data);
    })
    .catch((e) => {
      console.log("erreur lors du login", e);
    })
  )
 
  useEffect(getSaisons, []);


  .clicked {
  background-color:  rgb(0, 131, 0);
  color: white;
  padding: 0.3em 1em 0 1em;
  border-radius: 0.3em 0.3em 0 0;
}
.nav-link {
  padding: 0.3em 1em 0 1em;
  color: black;
}
section .recette {
  flex: 1;

  &-article {
    width: 70%;
    margin: auto;
    display: flex;
  }
  &-container {
    &-ingredient{
      margin: auto;
      padding: 1em;
    }    
    &-description{
      margin: auto;
      padding: 1em;
    }
  }
  &-img{
    width: 50%;
    margin: auto;
  }
  
}

import React, { useState, useEffect }from "react";
// import PropTypes from 'prop-types';
// on a besoin d'importer useParams pour avoir accés au slug de l'url
import { useParams } from "react-router";
import axios from 'axios';
import NavBar from '../NavBar';

import "./styles.scss";

const Recette = () => {
  // on destructure pour récupérer directement id et pas un objet
  const { id } = useParams();
  // on met comme valeur l'id récupéré via le useParams
  const [recetteId, setRecetteId] = useState(id);
  const [recette, setRecette] = useState([]);

  const getOneRecipe = () => (
    //requete axios
    axios({
      method: 'get',
      url: `http://localhost:5000/recettes/${recetteId}`
    })
    .then((res) => {
      setRecette(res.data);
      console.log(res.data);
    })
    .catch((e) => {
      console.log("erreur lors du login", e);
    })
  )

  useEffect(getOneRecipe, []);

  return(
    <section className="recette">
      <h1 className="page-title">{recette.title}</h1>
      <NavBar/>
      <article className="recette-article">
          {/*besoin de fix le rendu de la liste d'ingrédient on reçoit un seul string*/}
          <div className="recette-container">
            <p className="recette-container-ingredient">{recette.ingredients}</p>
            <p className="recette-container-description">{recette.description}</p>
          </div>
          <img className="recette-img" src="https://thumbs.dreamstime.com/z/panier-en-osier-avec-les-l%C3%A9gumes-organiques-crus-assortis-dans-le-jardin-48896220.jpg" alt=""/>
        </article>
    </section>
  )
};

// Content.propTypes = {
//
// };

// Content.defaultProps = {
//
// };

export default Recette;
